<div>
  <div class="row">
    <div class="col-6">
      <label class="form-inline">
        Show&nbsp;
        <select class="form-control" [(ngModel)]="pageSize" (change)="onMaxSizeChange()">
          <option *ngFor="let size of tableSizes" value="{{ size }}">{{ size }}</option>
        </select>
        &nbsp;Entries
      </label>
    </div>

    <div class="col-3">
      <input type="text" class="form-control mb-3" placeholder="Search by email"
             [(ngModel)]="searchBox"
             (keyup)="searchByEmail()"
      >
    </div>

    <div class="col-3 input-group mb-3">
      <select class="custom-select" id="inputGroupSelect01" [(ngModel)]="status" (change)="onStatusChange()">
        <option value="">Choose...</option>
        <option value="true">Active</option>
        <option value="false">Inactive</option>
      </select>
      <div class="input-group-append">
        <label class="input-group-text" for="inputGroupSelect01">Status</label>
      </div>
    </div>
  </div>


  <table class="table table-bordered">
    <thead class="thead-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Email</th>
        <th scope="col">Birthday</th>
        <th scope="col">Status</th>
        <th scope="col">Permissions</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of currentPage; let i = index">
        <th scope="row">{{ (pageNumber - 1)*pageSize + i + 1 }}</th>
        <td>{{ user.firstname }}</td>
        <td>{{ user.lastname }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.birthdate }}</td>
        <td>{{ user.active === 'true' ? 'Active' : 'Inactive' }}</td>
        <td>{{ getUserPermissions(user) }}</td>
        <td>
          <div ngbDropdown class="d-inline-block">
            <button class="btn btn-secondary" id="dropdownActions" ngbDropdownToggle>Action</button>
            <div ngbDropdownMenu aria-labelledby="dropdownActions">
              <button class="dropdown-item" (click)="onEditUser(user)">Edit user</button>
              <button class="dropdown-item" (click)="onEditUserPermissions(user)">Edit user permissions</button>
              <button class="dropdown-item" (click)="onDelete(user)">Delete</button>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <ngb-pagination class="d-flex justify-content-end" [collectionSize]="filteredUsers.length" [(page)]="pageNumber" [pageSize]="pageSize" (pageChange)="onPageChange()"></ngb-pagination>
</div>
